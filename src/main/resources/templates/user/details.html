<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<link rel="stylesheet" type="text/css" th:href="@{/css/rating.css}" />
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" >
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" ></script>
<script src="https://code.jquery.com/jquery-3.6.3.js" ></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.22/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.22/datatables.min.js"></script>
</head>
<body >
<header th:include="user/index.html :: header "></header>
<section>
<div class="container pt-3 mb-5 text-center">
	<div class="row  mt-4 mb-5">
		   <div class="col-sm-5 text-center">
		      <div class="row ">
		         <div class="col-12 col-sm-12 mb-2">
		            <img th:src="@{image/{img} (img=${Article.image})}" height=460px width=430px />
		         </div>
		         <div class="col-3 col-sm-3" style="margin-left:9%;"><img th:src="@{image/{img} (img=${Article.image1})}"  height=110px /></div>
		         <div class="col-3 col-sm-3 " style="margin-left:18px; margin-right:18px;"><img th:src="@{image/{img} (img=${Article.image2})}" height=110px /></div>
		         <div class="col-3 col-sm-3"><img th:src="@{image/{img} (img=${Article.image3})}" height=110px /></div>
		      </div>
		      
		   </div>
		   <div class="col-7 text-start">
		       <h3 class="text-danger ms-5 mt-3 mb-3" th:text="${Article.description}"></h3>
		       <p class="fs-5 ms-5 mb-4" style="text-align: justify;" th:text="${Article.moredescription}"></p>
		       <p class="fs-5 ms-5" style="color:#494448;"><b class="fs-5">Dimensions (cm) : </b> <span th:text="${Article.height}"> </span> x <span th:text="${Article.width}"> </span> (hors franges)</p>
		       <div class="row">
				<div class=" col-5  ">
					<fieldset class=" ms-5 rating">
						<input  type="radio" id="star5" name="rating" value="5"/><label for="star5" class="full" title="Awesome"></label>
						<input type="radio" id="star4.5" name="rating" value="4.5"/><label for="star4.5" class="half"></label>
						<input type="radio" id="star4" name="rating" value="4"/><label for="star4" class="full"></label>
						<input type="radio" id="star3.5" name="rating" value="3.5"/><label for="star3.5" class="half"></label>
						<input type="radio" id="star3" name="rating" value="3"/><label for="star3" class="full"></label>
						<input type="radio" id="star2.5" name="rating" value="2.5"/><label for="star2.5" class="half"></label>
						<input type="radio" id="star2" name="rating" value="2"/><label for="star2" class="full"></label>
						<input type="radio" id="star1.5" name="rating" value="1.5"/><label for="star1.5" class="half"></label>
						<input type="radio" id="star1" name="rating" value="1"/><label for="star1" class="full"></label>
						<input type="radio" id="star0.5" name="rating" value="0.5"/><label for="star0.5" class="half"></label>
					</fieldset>
				</div>
	
				<h5 class="col-5 mt-2 fs-5" id="rating-value"></h5>
				</div>
				<div class="d-flex mb-3">
				  <div class="p-2 ms-5 me-5 fs-5 fw-semibold" ><p class="text-decoration-line-through">2599.99 dh</p></div>
				  <div class="fs-5 p-2 fw-bolder" th:text="${Article.prix}+' dh'"></div>
				</div>
				
				<div class="row text-center " style="margin-left:160px;">
				 <form class="col-7" th:action="@{add-to-cart}" method="post">
				 <input type="hidden" name="id" th:value="${Article.id}" />
				 <input type="hidden" name="id" th:value="${Article.id}" />
				    <div class="row">
					<button class="btn col-9 "  type="submit"  style="border-top-left-radius:10px;border-bottom-left-radius:10px;margin-right:-5px;font-size:1.4rem;background:#b28860;color:#494448;"><b>Ajouter au panier</b></button>
				    <input style="background:#b28860;border:none; width:60px;" type="text" name="q" id="qtyBox" class="input-filed col-3 text-center border-start fs-3 pt-1" value="1">
				    </div>
				    </form>
				    <div class="col-3 border-start" style="width:40px;margin-left:-35px;">
				    	<input type="submit" id="add" style="border-top-right-radius:10px;font-size:12px;margin-left:-12px;height:23px;background:#b28860;border:none;width:40px;" value="+">
				    	<input type="submit"  id="sub" style="border-bottom-right-radius:10px;font-size:13px;height:23px;margin-left:-12px;background:#b28860;border:none; width:40px;" value="-">
				    </div>
				</div>
				
		</div>
	   </div>
	</div>
	<div >
	<div class=" row pt-3 pb-1 ps-5 pe-5 text-center mt-5 shadow border-3 border-bottom" style="background:#eae5df;">
		<h4 class="col-2" style="color:#b28860;"><span class="favorite"><svg xmlns="http://www.w3.org/2000/svg" th:pid="${Article.id}" class="f" width="37" height="37" viewBox="0 0 25 25" fill="none">
<path d="M17.2004 22.7499C14.1404 22.7499 11.6504 20.2599 11.6504 17.1999C11.6504 14.1399 14.1404 11.6499 17.2004 11.6499C20.2604 11.6499 22.7504 14.1399 22.7504 17.1999C22.7504 20.2599 20.2604 22.7499 17.2004 22.7499ZM17.2004 13.1499C14.9704 13.1499 13.1504 14.9699 13.1504 17.1999C13.1504 19.4299 14.9704 21.2499 17.2004 21.2499C19.4304 21.2499 21.2504 19.4299 21.2504 17.1999C21.2504 14.9699 19.4304 13.1499 17.2004 13.1499Z" fill="#9d062d"/>
<path d="M18.9904 18.01H15.4004C14.9904 18.01 14.6504 17.67 14.6504 17.26C14.6504 16.85 14.9904 16.51 15.4004 16.51H18.9904C19.4004 16.51 19.7404 16.85 19.7404 17.26C19.7404 17.67 19.4104 18.01 18.9904 18.01Z" fill="#9d062d"/>
<path d="M17.1992 19.85C16.7892 19.85 16.4492 19.51 16.4492 19.1V15.51C16.4492 15.1 16.7892 14.76 17.1992 14.76C17.6092 14.76 17.9492 15.1 17.9492 15.51V19.1C17.9492 19.51 17.6092 19.85 17.1992 19.85Z" fill="#9d062d"/>
<path d="M12 21.6501C11.69 21.6501 11.38 21.6101 11.13 21.5201C8.57 20.6501 1.25 16.4101 1.25 8.69012C1.25 5.19012 4.08 2.3501 7.56 2.3501C9.23 2.3501 10.83 3.02012 12 4.19012C13.17 3.02012 14.78 2.3501 16.44 2.3501C19.92 2.3501 22.75 5.19012 22.75 8.69012C22.75 10.6401 22.28 12.5101 21.35 14.2601C21.24 14.4701 21.03 14.6201 20.79 14.6501C20.54 14.6801 20.31 14.6001 20.14 14.4201C19.36 13.6001 18.31 13.1401 17.19 13.1401C14.96 13.1401 13.14 14.9601 13.14 17.1901C13.14 18.1801 13.51 19.1401 14.18 19.8901C14.34 20.0701 14.4 20.3101 14.35 20.5401C14.3 20.7701 14.14 20.9701 13.93 21.0701C13.53 21.2501 13.17 21.4001 12.84 21.5101C12.61 21.6101 12.31 21.6501 12 21.6501ZM7.56 3.8501C4.91 3.8501 2.75 6.02012 2.75 8.69012C2.75 15.5301 9.31999 19.3101 11.62 20.1001C11.8 20.1701 12.19 20.1601 12.37 20.1001C12.4 20.0901 12.43 20.0801 12.46 20.0701C11.94 19.2101 11.65 18.2201 11.65 17.2001C11.65 14.1401 14.14 11.6501 17.2 11.6501C18.38 11.6501 19.5 12.0201 20.44 12.6901C20.98 11.4101 21.25 10.0701 21.25 8.69012C21.25 6.02012 19.09 3.8501 16.44 3.8501C14.94 3.8501 13.5 4.57015 12.6 5.78015C12.32 6.16015 11.68 6.16015 11.4 5.78015C10.5 4.57015 9.06 3.8501 7.56 3.8501Z" fill="#292D32"/>
</svg></span> Ajouter aux favories</h4>
	  	<h2 class="col-8" style="color:#b28860;">Commentaires.....</h2>
	  	<h4 class="col-2" style="color:#b28860;"><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none">
<path d="M20.6196 13.0701C20.2396 13.0701 19.9196 12.7801 19.8696 12.4001C19.6296 10.1401 18.4096 8.0901 16.5296 6.7901C16.1896 6.5501 16.1096 6.0901 16.3396 5.7501C16.5796 5.4101 17.0496 5.3301 17.3796 5.5601C19.6196 7.1101 21.0596 9.5501 21.3496 12.2401C21.3896 12.6501 21.0996 13.0201 20.6796 13.0701C20.6696 13.0701 20.6396 13.0701 20.6196 13.0701Z" fill="#292D32"/>
<path d="M3.48991 13.12C3.45991 13.12 3.43991 13.12 3.40991 13.12C2.99991 13.07 2.69991 12.7 2.73991 12.29C3.00991 9.60001 4.43991 7.17001 6.64991 5.60001C6.98991 5.36001 7.45991 5.44001 7.69991 5.78001C7.93991 6.12001 7.85991 6.59001 7.51991 6.83001C5.65991 8.14001 4.45991 10.19 4.22991 12.45C4.19991 12.83 3.86991 13.12 3.48991 13.12Z" fill="#292D32"/>
<path d="M12.06 22.61C10.58 22.61 9.16997 22.27 7.84997 21.61C7.47997 21.42 7.32997 20.97 7.51997 20.6C7.70997 20.23 8.15997 20.08 8.52997 20.27C10.69 21.36 13.29 21.38 15.47 20.33C15.84 20.15 16.29 20.31 16.47 20.68C16.65 21.05 16.49 21.5 16.12 21.68C14.84 22.3 13.48 22.61 12.06 22.61Z" fill="#292D32"/>
<path d="M12.0593 8.43988C10.1093 8.43988 8.5293 6.85988 8.5293 4.90988C8.5293 2.95988 10.1093 1.37988 12.0593 1.37988C14.0093 1.37988 15.5893 2.95988 15.5893 4.90988C15.5893 6.85988 13.9993 8.43988 12.0593 8.43988ZM12.0593 2.88988C10.9393 2.88988 10.0293 3.79988 10.0293 4.91988C10.0293 6.03988 10.9393 6.94988 12.0593 6.94988C13.1793 6.94988 14.0893 6.03988 14.0893 4.91988C14.0893 3.79988 13.1693 2.88988 12.0593 2.88988Z" fill="#ab7c50"/>
<path d="M4.83078 20.6701C2.88078 20.6701 1.30078 19.0901 1.30078 17.1401C1.30078 15.2001 2.88078 13.6101 4.83078 13.6101C6.78078 13.6101 8.36078 15.1901 8.36078 17.1401C8.36078 19.0801 6.78078 20.6701 4.83078 20.6701ZM4.83078 15.1101C3.71078 15.1101 2.80078 16.0201 2.80078 17.1401C2.80078 18.2601 3.71078 19.1701 4.83078 19.1701C5.95078 19.1701 6.86078 18.2601 6.86078 17.1401C6.86078 16.0201 5.95078 15.1101 4.83078 15.1101Z" fill="#ab7c50"/>
<path d="M19.1706 20.6701C17.2206 20.6701 15.6406 19.0901 15.6406 17.1401C15.6406 15.2001 17.2206 13.6101 19.1706 13.6101C21.1206 13.6101 22.7006 15.1901 22.7006 17.1401C22.6906 19.0801 21.1106 20.6701 19.1706 20.6701ZM19.1706 15.1101C18.0506 15.1101 17.1406 16.0201 17.1406 17.1401C17.1406 18.2601 18.0506 19.1701 19.1706 19.1701C20.2906 19.1701 21.2006 18.2601 21.2006 17.1401C21.1906 16.0201 20.2906 15.1101 19.1706 15.1101Z" fill="#ab7c50"/>
</svg>  Partager Article</h4>
	</div>
	<div class="shadow pt-3 bg-light">
	   <form class="ms-4 " method="post" id="comment-form" name="formComment">
	      <div class="d-flex ms-5 me-5 justify-content-between">
	   		<div class="ms-5 me-4"><svg xmlns="http://www.w3.org/2000/svg" width="59" height="59" viewBox="0 0 23 23" fill="none">
<path d="M15.0006 22.7488H9.00063C7.68063 22.7488 6.58063 22.6188 5.65063 22.3388C5.31063 22.2388 5.09063 21.9088 5.11063 21.5588C5.36063 18.5688 8.39063 16.2188 12.0006 16.2188C15.6106 16.2188 18.6306 18.5588 18.8906 21.5588C18.9206 21.9188 18.7006 22.2388 18.3506 22.3388C17.4206 22.6188 16.3206 22.7488 15.0006 22.7488ZM6.72063 21.0588C7.38063 21.1888 8.13063 21.2488 9.00063 21.2488H15.0006C15.8706 21.2488 16.6206 21.1888 17.2806 21.0588C16.7506 19.1388 14.5606 17.7188 12.0006 17.7188C9.44063 17.7188 7.25063 19.1388 6.72063 21.0588Z" fill="#292D32"/>
<path d="M15 2H9C4 2 2 4 2 9V15C2 18.78 3.14 20.85 5.86 21.62C6.08 19.02 8.75 16.97 12 16.97C15.25 16.97 17.92 19.02 18.14 21.62C20.86 20.85 22 18.78 22 15V9C22 4 20 2 15 2ZM12 14.17C10.02 14.17 8.42 12.56 8.42 10.58C8.42 8.60002 10.02 7 12 7C13.98 7 15.58 8.60002 15.58 10.58C15.58 12.56 13.98 14.17 12 14.17Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M12.0019 14.92C9.61188 14.92 7.67188 12.97 7.67188 10.58C7.67188 8.19002 9.61188 6.25 12.0019 6.25C14.3919 6.25 16.3319 8.19002 16.3319 10.58C16.3319 12.97 14.3919 14.92 12.0019 14.92ZM12.0019 7.75C10.4419 7.75 9.17188 9.02002 9.17188 10.58C9.17188 12.15 10.4419 13.42 12.0019 13.42C13.5619 13.42 14.8319 12.15 14.8319 10.58C14.8319 9.02002 13.5619 7.75 12.0019 7.75Z" fill="#9d062d"/>
</svg></div>
	   		<input type="hidden" id="articleId" name="articleId" th:value="${Article.id}"/>
	   		<input type="hidden" id="userId" name="userId" th:value="${currentUser.name}" />
		    <input class="form-control" id="comment" name="comment" type="text" placeholder="Ecrivez un Commentaire" style="background:#e9ecef; border-radius:16px;">
		    <button   type="submit" class="btn me-5 ms-3" id="save"  style="border-radius:15px;background:#e9ecef; margin-left:-30px;"><i class="fs-3 fa fa-send"></i></button>
	           
	      </div>
	      </form>
	      <div id="response" class="mt-5 ps-5 pt-3 pb-3 rounded-4 mb-3">
	         
	      </div>
	   </div>
	   
	 </div>
</section>


<footer class="footer text-center mt-5" style="margin-top:-1.66%;" th:include="user/index.html :: footer "></footer>
<script type="text/javascript">
	let star = document.querySelectorAll('input');
	let showValue = document.querySelector('#rating-value');
	
	for (let i = 0; i < star.length; i++) {
		star[i].addEventListener('click', function() {
			i = this.value;
	
			showValue.innerHTML = i + " out of 5";
});
	}
	
	let addBtn = document.querySelector('#add');
		let subBtn = document.querySelector('#sub');
		let qty = document.querySelector('#qtyBox');
		
		addBtn.addEventListener('click',()=>{
			qty.value = parseInt(qty.value) + 1;
		});

		subBtn.addEventListener('click',()=>{
			if (qty.value <= 0) {
				qty.value = 0;
			}
			else{
				qty.value = parseInt(qty.value) - 1;
			}
		});
		
		let usersTemplateHTML = "";
		$(document).ready(function() {
		
          var comment = $("#comment").val();
          var articleId = $("#articleId").val();
          var userId = $("#userId").val();
		    $.ajax({
		  type: "GET",
		  url: "/comment/list",
		  success: function(comments) {
		    
		    console.log(comments);
		    for(var i=0; i<comments.length; i++){
		      if (comments[i].articleId ==articleId && comments[i].comment!=''){
		         console.log(comments[i].comment);
		         usersTemplateHTML =usersTemplateHTML+ '<div class="mb-4 style row"><svg xmlns="http://www.w3.org/2000/svg" class="mt-4 col-1 ms-5" width="57" height="57" viewBox="0 0 24 24" fill="none">'+
'<path d="M15.0006 22.7488H9.00063C7.68063 22.7488 6.58063 22.6188 5.65063 22.3388C5.31063 22.2388 5.09063 21.9088 5.11063 21.5588C5.36063 18.5688 8.39063 16.2188 12.0006 16.2188C15.6106 16.2188 18.6306 18.5588 18.8906 21.5588C18.9206 21.9188 18.7006 22.2388 18.3506 22.3388C17.4206 22.6188 16.3206 22.7488 15.0006 22.7488ZM6.72063 21.0588C7.38063 21.1888 8.13063 21.2488 9.00063 21.2488H15.0006C15.8706 21.2488 16.6206 21.1888 17.2806 21.0588C16.7506 19.1388 14.5606 17.7188 12.0006 17.7188C9.44063 17.7188 7.25063 19.1388 6.72063 21.0588Z" fill="#292D32"/>'+
'<path d="M15 2H9C4 2 2 4 2 9V15C2 18.78 3.14 20.85 5.86 21.62C6.08 19.02 8.75 16.97 12 16.97C15.25 16.97 17.92 19.02 18.14 21.62C20.86 20.85 22 18.78 22 15V9C22 4 20 2 15 2ZM12 14.17C10.02 14.17 8.42 12.56 8.42 10.58C8.42 8.60002 10.02 7 12 7C13.98 7 15.58 8.60002 15.58 10.58C15.58 12.56 13.98 14.17 12 14.17Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>'+
'<path d="M12.0019 14.92C9.61188 14.92 7.67188 12.97 7.67188 10.58C7.67188 8.19002 9.61188 6.25 12.0019 6.25C14.3919 6.25 16.3319 8.19002 16.3319 10.58C16.3319 12.97 14.3919 14.92 12.0019 14.92ZM12.0019 7.75C10.4419 7.75 9.17188 9.02002 9.17188 10.58C9.17188 12.15 10.4419 13.42 12.0019 13.42C13.5619 13.42 14.8319 12.15 14.8319 10.58C14.8319 9.02002 13.5619 7.75 12.0019 7.75Z" fill="#c4a462"/>'+
'</svg><span class="col-9 "><h5 >'+comments[i].userId+'</h5><p class ="p-2 ps-4 fs-5" >'+comments[i].comment+'</p></span><a class="col-1" href="/chatwith'+comments[i].userId+'"><svg xmlns="http://www.w3.org/2000/svg" class=" mt-4" width="53" height="53" viewBox="0 0 24 24" fill="none">'+
'<path d="M15.9978 22.3214C15.6578 22.3214 15.3278 22.2214 15.0378 22.0314L10.7778 19.1914H8.88782C8.65782 19.1914 8.43779 19.0814 8.29779 18.9014C8.15779 18.7114 8.10782 18.4714 8.16782 18.2514C8.22782 18.0114 8.25781 17.7714 8.25781 17.5114C8.25781 16.7114 7.95782 15.9414 7.41782 15.3414C6.80782 14.6514 5.93781 14.2614 5.00781 14.2614C4.11781 14.2614 3.2978 14.6114 2.6778 15.2414C2.4878 15.4414 2.19781 15.5114 1.93781 15.4414C1.67781 15.3614 1.46781 15.1514 1.40781 14.8814C1.30781 14.4414 1.25781 13.9614 1.25781 13.4414V7.44141C1.25781 4.00141 3.56781 1.69141 7.00781 1.69141H17.0078C20.4478 1.69141 22.7578 4.00141 22.7578 7.44141V13.4414C22.7578 15.1114 22.2078 16.5514 21.1578 17.6014C20.2778 18.4814 19.1078 19.0114 17.7578 19.1514V20.5714C17.7578 21.2214 17.3978 21.8114 16.8278 22.1214C16.5578 22.2514 16.2778 22.3214 15.9978 22.3214ZM9.7478 17.6814H10.9978C11.1478 17.6814 11.2878 17.7214 11.4178 17.8114L15.8678 20.7814C15.9778 20.8514 16.0678 20.8214 16.1178 20.7914C16.1678 20.7614 16.2578 20.7014 16.2578 20.5614V18.4314C16.2578 18.0214 16.5978 17.6814 17.0078 17.6814C18.2778 17.6814 19.3478 17.2814 20.0978 16.5314C20.8578 15.7714 21.2578 14.7014 21.2578 13.4314V7.4314C21.2578 4.8514 19.5878 3.1814 17.0078 3.1814H7.00781C4.42781 3.1814 2.75781 4.8514 2.75781 7.4314V13.3114C3.43781 12.9414 4.20781 12.7514 5.00781 12.7514C6.36781 12.7514 7.65781 13.3314 8.53781 14.3314C9.31781 15.2014 9.75781 16.3214 9.75781 17.5014C9.74781 17.5614 9.7478 17.6214 9.7478 17.6814Z" fill="#292D32"/>'+
'<path d="M5 22.25C3.34 22.25 1.78 21.37 0.940002 19.94C0.490002 19.22 0.25 18.37 0.25 17.5C0.25 16.04 0.899999 14.69 2.03 13.79C2.87 13.12 3.93 12.75 5 12.75C7.62 12.75 9.75 14.88 9.75 17.5C9.75 18.37 9.51 19.22 9.06 19.95C8.81 20.37 8.48999 20.75 8.10999 21.07C7.27999 21.83 6.17 22.25 5 22.25ZM5 14.25C4.26 14.25 3.56 14.5 2.97 14.97C2.2 15.58 1.75 16.51 1.75 17.5C1.75 18.09 1.91 18.67 2.22 19.17C2.8 20.15 3.87 20.75 5 20.75C5.79 20.75 6.55 20.46 7.13 19.94C7.39 19.72 7.60999 19.46 7.76999 19.18C8.08999 18.67 8.25 18.09 8.25 17.5C8.25 15.71 6.79 14.25 5 14.25Z" fill="#292D32"/>'+
'<path d="M4.4289 19.2415C4.2389 19.2415 4.0489 19.1715 3.8989 19.0215L2.90891 18.0316C2.61891 17.7416 2.61891 17.2615 2.90891 16.9715C3.19891 16.6815 3.6789 16.6815 3.9689 16.9715L4.44891 17.4515L6.04889 15.9715C6.34889 15.6915 6.82889 15.7115 7.10889 16.0115C7.38889 16.3115 7.36891 16.7915 7.06891 17.0715L4.93891 19.0415C4.7889 19.1715 4.6089 19.2415 4.4289 19.2415Z" fill="#9f4841"/>'+
'<path d="M15.5 11.25H8.5C8.09 11.25 7.75 10.91 7.75 10.5C7.75 10.09 8.09 9.75 8.5 9.75H15.5C15.91 9.75 16.25 10.09 16.25 10.5C16.25 10.91 15.91 11.25 15.5 11.25Z" fill="#292D32"/>'+
'</svg></a></div>';
		         
		      }
		       
		    }
		    
		    $('#response').html(usersTemplateHTML);	
		    $('#response p' ).css({"background-color":"#e9ecef","border-radius":"12px", });	 
		    $('.style span').css({"margin-left":"-40px"}); 
		    }
		});
		});
        $("#comment-form").submit(function(event) {
          event.preventDefault();
          var comment = $("#comment").val();
          var articleId = $("#articleId").val();
          var userId = $("#userId").val();
          $.ajax({
            type: "POST",
            url: "/comment/add",
            data: { comment: comment, articleId: articleId, userId: userId },
            contentType: "application/x-www-form-urlencoded",
            
            success: function(result) {
              // Handle the response from the server, for example display a success message
              
              console.log(result);
            },
            error: function(error) {
              // Handle the error
              console.log(error);
              
            }
          });
          $.ajax({
		  type: "GET",
		  url: "/comment/list",
		  success: function(comments) {
		    console.log('houdaMT');
		    console.log(comments);
		         usersTemplateHTML +='<div class="mb-4 style row"><svg xmlns="http://www.w3.org/2000/svg" class="mt-4 col-1 ms-5" width="57" height="57" viewBox="0 0 24 24" fill="none">'+
'<path d="M15.0006 22.7488H9.00063C7.68063 22.7488 6.58063 22.6188 5.65063 22.3388C5.31063 22.2388 5.09063 21.9088 5.11063 21.5588C5.36063 18.5688 8.39063 16.2188 12.0006 16.2188C15.6106 16.2188 18.6306 18.5588 18.8906 21.5588C18.9206 21.9188 18.7006 22.2388 18.3506 22.3388C17.4206 22.6188 16.3206 22.7488 15.0006 22.7488ZM6.72063 21.0588C7.38063 21.1888 8.13063 21.2488 9.00063 21.2488H15.0006C15.8706 21.2488 16.6206 21.1888 17.2806 21.0588C16.7506 19.1388 14.5606 17.7188 12.0006 17.7188C9.44063 17.7188 7.25063 19.1388 6.72063 21.0588Z" fill="#292D32"/>'+
'<path d="M15 2H9C4 2 2 4 2 9V15C2 18.78 3.14 20.85 5.86 21.62C6.08 19.02 8.75 16.97 12 16.97C15.25 16.97 17.92 19.02 18.14 21.62C20.86 20.85 22 18.78 22 15V9C22 4 20 2 15 2ZM12 14.17C10.02 14.17 8.42 12.56 8.42 10.58C8.42 8.60002 10.02 7 12 7C13.98 7 15.58 8.60002 15.58 10.58C15.58 12.56 13.98 14.17 12 14.17Z" stroke="#292D32" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>'+
'<path d="M12.0019 14.92C9.61188 14.92 7.67188 12.97 7.67188 10.58C7.67188 8.19002 9.61188 6.25 12.0019 6.25C14.3919 6.25 16.3319 8.19002 16.3319 10.58C16.3319 12.97 14.3919 14.92 12.0019 14.92ZM12.0019 7.75C10.4419 7.75 9.17188 9.02002 9.17188 10.58C9.17188 12.15 10.4419 13.42 12.0019 13.42C13.5619 13.42 14.8319 12.15 14.8319 10.58C14.8319 9.02002 13.5619 7.75 12.0019 7.75Z" fill="#c4a462"/>'+
'</svg><span class="col-9 "><h5 >'+userId+'</h5><p class ="p-2 ps-4 fs-5" >'+comment+'</p></span><svg xmlns="http://www.w3.org/2000/svg" class="col-1 mt-4" width="53" height="53" viewBox="0 0 24 24" fill="none">'+
'<path d="M15.9978 22.3214C15.6578 22.3214 15.3278 22.2214 15.0378 22.0314L10.7778 19.1914H8.88782C8.65782 19.1914 8.43779 19.0814 8.29779 18.9014C8.15779 18.7114 8.10782 18.4714 8.16782 18.2514C8.22782 18.0114 8.25781 17.7714 8.25781 17.5114C8.25781 16.7114 7.95782 15.9414 7.41782 15.3414C6.80782 14.6514 5.93781 14.2614 5.00781 14.2614C4.11781 14.2614 3.2978 14.6114 2.6778 15.2414C2.4878 15.4414 2.19781 15.5114 1.93781 15.4414C1.67781 15.3614 1.46781 15.1514 1.40781 14.8814C1.30781 14.4414 1.25781 13.9614 1.25781 13.4414V7.44141C1.25781 4.00141 3.56781 1.69141 7.00781 1.69141H17.0078C20.4478 1.69141 22.7578 4.00141 22.7578 7.44141V13.4414C22.7578 15.1114 22.2078 16.5514 21.1578 17.6014C20.2778 18.4814 19.1078 19.0114 17.7578 19.1514V20.5714C17.7578 21.2214 17.3978 21.8114 16.8278 22.1214C16.5578 22.2514 16.2778 22.3214 15.9978 22.3214ZM9.7478 17.6814H10.9978C11.1478 17.6814 11.2878 17.7214 11.4178 17.8114L15.8678 20.7814C15.9778 20.8514 16.0678 20.8214 16.1178 20.7914C16.1678 20.7614 16.2578 20.7014 16.2578 20.5614V18.4314C16.2578 18.0214 16.5978 17.6814 17.0078 17.6814C18.2778 17.6814 19.3478 17.2814 20.0978 16.5314C20.8578 15.7714 21.2578 14.7014 21.2578 13.4314V7.4314C21.2578 4.8514 19.5878 3.1814 17.0078 3.1814H7.00781C4.42781 3.1814 2.75781 4.8514 2.75781 7.4314V13.3114C3.43781 12.9414 4.20781 12.7514 5.00781 12.7514C6.36781 12.7514 7.65781 13.3314 8.53781 14.3314C9.31781 15.2014 9.75781 16.3214 9.75781 17.5014C9.74781 17.5614 9.7478 17.6214 9.7478 17.6814Z" fill="#292D32"/>'+
'<path d="M5 22.25C3.34 22.25 1.78 21.37 0.940002 19.94C0.490002 19.22 0.25 18.37 0.25 17.5C0.25 16.04 0.899999 14.69 2.03 13.79C2.87 13.12 3.93 12.75 5 12.75C7.62 12.75 9.75 14.88 9.75 17.5C9.75 18.37 9.51 19.22 9.06 19.95C8.81 20.37 8.48999 20.75 8.10999 21.07C7.27999 21.83 6.17 22.25 5 22.25ZM5 14.25C4.26 14.25 3.56 14.5 2.97 14.97C2.2 15.58 1.75 16.51 1.75 17.5C1.75 18.09 1.91 18.67 2.22 19.17C2.8 20.15 3.87 20.75 5 20.75C5.79 20.75 6.55 20.46 7.13 19.94C7.39 19.72 7.60999 19.46 7.76999 19.18C8.08999 18.67 8.25 18.09 8.25 17.5C8.25 15.71 6.79 14.25 5 14.25Z" fill="#292D32"/>'+
'<path d="M4.4289 19.2415C4.2389 19.2415 4.0489 19.1715 3.8989 19.0215L2.90891 18.0316C2.61891 17.7416 2.61891 17.2615 2.90891 16.9715C3.19891 16.6815 3.6789 16.6815 3.9689 16.9715L4.44891 17.4515L6.04889 15.9715C6.34889 15.6915 6.82889 15.7115 7.10889 16.0115C7.38889 16.3115 7.36891 16.7915 7.06891 17.0715L4.93891 19.0415C4.7889 19.1715 4.6089 19.2415 4.4289 19.2415Z" fill="#9f4841"/>'+
'<path d="M15.5 11.25H8.5C8.09 11.25 7.75 10.91 7.75 10.5C7.75 10.09 8.09 9.75 8.5 9.75H15.5C15.91 9.75 16.25 10.09 16.25 10.5C16.25 10.91 15.91 11.25 15.5 11.25Z" fill="#292D32"/>'+
'</svg></div>';
		         
		         $('#response').html(usersTemplateHTML);	
		         $('#response').html(usersTemplateHTML);	
		    $('#response p' ).css({"background-color":"#e9ecef","border-radius":"12px", });	 
		    $('.style span').css({"margin-left":"-40px"}); 
		    }
		});
		$('#comment').val('');
        });
  $(".f").on("click", function(e){
		   e.preventDefault();
		   pid= $(this).attr("pid");
		   console.log(pid);
		   favoris(pid);
		});

function favoris(pid){
 let url= 'http://localhost:8080/Favoris'+pid;
 $.ajax({
   url:url,
   method: "POST"
   
   }).done(function(response){ 
   console.log(response);
   })
 } 
</script>

</body>
</html>